(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{16:function(e,t,a){e.exports={filmTitle:"FilmCard_filmTitle__1EdDE",filmDetail:"FilmCard_filmDetail__2jzNe",mainDetail:"FilmCard_mainDetail__2oImD",extraDetails:"FilmCard_extraDetails__3r80p"}},18:function(e,t,a){e.exports={container:"HomePage_container__2s-27",title:"HomePage_title__1qOUd",filmsList:"HomePage_filmsList__10JcY",sortBtn:"HomePage_sortBtn__2oFpJ",filmItem:"HomePage_filmItem__uXDXE"}},27:function(e,t,a){e.exports={loaderContainer:"Loader_loaderContainer__1qZRI"}},43:function(e,t,a){e.exports={search:"Search_search__3nGdH"}},45:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a.n(l),c=a(19),s=a(12),o=a(17),u=a(41),m=a(21),f={films:[],isLoading:!0,isError:!1,value:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case"FETCH_IS_SUCCSES":return Object(m.a)({},e,{films:a});case"FETCH_IS_LOADING":return Object(m.a)({},e,{isLoading:a});case"FETCH_IS_ERROR":return Object(m.a)({},e,{isError:a});case"ADD_VALUE":return Object(m.a)({},e,{value:a,films:e.films.filter((function(e){return e.title.includes(a)}))});default:return e}},d=a(42),h=Object(o.createStore)(p,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),E=a(9),_=a(10),v=a(13),b=a(11),O=a(14),j=a(15),g="https://swapi.co/api/films/",D=a(24),y=a.n(D),C=function(e){return{type:"FETCH_IS_LOADING",payload:e}},F=function(e){return function(t){t(C(!0)),function(e){return y.a.get(e)}(e).then((function(e){t(C(!1)),t({type:"FETCH_IS_SUCCSES",payload:e.data.results})})).catch((function(){return t({type:"FETCH_IS_ERROR",payload:!0})}))}},N=a(43),S=a.n(N),L=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleChange=function(e){a.props.addValue(e.target.value),""===e.target.value&&a.props.fetchFilms(g)},a}return Object(O.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.value;return r.a.createElement("input",{id:"search",placeholder:"search film name..",className:S.a.search,type:"text",value:e,onChange:this.handleChange})}}]),t}(n.Component),I=Object(s.b)(null,(function(e){return{addValue:function(t){return e(function(e){return{type:"ADD_VALUE",payload:e}}(t))},fetchFilms:function(t){return e(F(t))}}}))(L),x=a(27),H=a.n(x),k=function(){return r.a.createElement("div",{className:H.a.loaderContainer},r.a.createElement("p",{className:H.a.loader},"LOADING ..."))},A=a(18),T=a.n(A),P=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},a.sortFilm=function(){var e=a.props.films;a.setState({films:e.sort((function(e,t){return e.title>t.title?1:-1}))})},a}return Object(O.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFilms(g)}},{key:"render",value:function(){var e=this.props,t=e.films,a=e.isLoading;return r.a.createElement("div",{className:T.a.container},r.a.createElement("h1",{className:T.a.title}," Star Wars"),r.a.createElement(I,{upDateValue:this.upDateValue}),a&&r.a.createElement(k,null),t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:T.a.sortBtn,onClick:this.sortFilm},"Sort"),r.a.createElement("ul",{className:T.a.filmsList},t.map((function(e,t){return r.a.createElement("li",{key:t,className:T.a.filmItem},r.a.createElement(c.b,{to:"films/".concat(t)},r.a.createElement("p",null,e.title)))})))))}}]),t}(n.Component),w=Object(s.b)((function(e){return{films:e.films,isLoading:e.isLoading,value:e.value}}),(function(e){return{fetchFilms:function(t){return e(F(t))}}}))(P),R=a(16),V=a.n(R),U=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={film:[],characters:[]},a.fetchExtraParam=function(e){var t=e.map((function(e){return y.a.get(e)}));Promise.all(t).then((function(e){return a.setState({characters:e})})).catch((function(e){return e}))},a}return Object(O.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=+this.props.match.params.id,a=this.props.films.find((function(e,a){if(a===t)return e}));this.setState({film:a},(function(){e.fetchExtraParam(e.state.film.characters)}))}},{key:"render",value:function(){var e=this.state,t=e.film,a=e.characters,n=this.props.isLoading;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(k,null),t&&r.a.createElement("div",null,r.a.createElement("h2",{className:V.a.filmTitle},t.title," "),r.a.createElement("div",{className:V.a.mainDetail},r.a.createElement("div",null,"Episode:",r.a.createElement("span",{className:V.a.filmDetail}," ",t.episode_id)),r.a.createElement("div",null,"Date of release:",r.a.createElement("span",{className:V.a.filmDetail},t.release_date," ")," "),r.a.createElement("div",null,"Director: ",r.a.createElement("span",{className:V.a.filmDetail}," ",t.director)),r.a.createElement("div",null,"Producer:",r.a.createElement("span",{className:V.a.filmDetail},t.producer," ")," "),r.a.createElement("div",null,"Characters:",a.map((function(e){return r.a.createElement("span",{key:e.data.name,className:V.a.extraDetails},e.data.name,",")}))))))}}]),t}(n.Component),B=Object(s.b)((function(e){return{isLoading:e.isLoading,films:e.films}}))(U),G=function(e){function t(){return Object(E.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/",exact:!0,component:w}),r.a.createElement(j.b,{path:"/films/:id",component:B}),r.a.createElement(j.a,{push:!0,to:"/"})))}}]),t}(n.Component),J=(a(72),document.getElementById("root"));i.a.render(r.a.createElement(s.a,{store:h},r.a.createElement(c.a,null,r.a.createElement(G,null))),J)}},[[45,1,2]]]);
//# sourceMappingURL=main.1d3a1436.chunk.js.map