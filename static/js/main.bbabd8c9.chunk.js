(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{12:function(e,t,a){e.exports={filmTitle:"FilmCard_filmTitle__1EdDE",filmDetail:"FilmCard_filmDetail__2jzNe",mainDetail:"FilmCard_mainDetail__2oImD",extraDetails:"FilmCard_extraDetails__3r80p"}},15:function(e,t,a){e.exports={container:"HomePage_container__2s-27",title:"HomePage_title__1qOUd",filmsList:"HomePage_filmsList__10JcY",sortBtn:"HomePage_sortBtn__2oFpJ",filmItem:"HomePage_filmItem__uXDXE"}},21:function(e,t,a){e.exports={loaderContainer:"Loader_loaderContainer__1qZRI"}},35:function(e,t,a){e.exports={search:"Search_search__3nGdH"}},38:function(e,t,a){e.exports=a(67)},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),c=a.n(l),i=a(16),s=a(6),u=a(7),m=a(9),o=a(8),f=a(10),h=a(11),p=a(14),d=a.n(p),v=a(19),E="https://swapi.co/api/films/",_=a(35),b=a.n(_),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value},(function(){a.props.upDateValue(a.state.value)}))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("input",{id:"search",placeholder:"search film name..",className:b.a.search,type:"text",value:e,onChange:this.handleChange})}}]),t}(n.Component),O=a(21),j=a.n(O),g=function(){return r.a.createElement("div",{className:j.a.loaderContainer},r.a.createElement("p",{className:j.a.loader},"LOADING ..."))},y=a(18),F=a.n(y),N=a(15),x=a.n(N),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={films:[],value:""},a.fetchFilms=Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(E).then((function(e){a.setState({films:e.data.results})})).catch((function(e){return e}));case 2:case"end":return e.stop()}}),e)}))),a.upDateValue=function(e){a.setState({value:e})},a.sortFilm=function(){var e=a.state.films;a.setState({films:e.sort((function(e,t){return e.title>t.title?1:-1}))})},a.filterFilms=function(){var e=a.state,t=e.films,n=e.value;a.setState({films:t.filter((function(e){return e.title.includes(n)}))})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchFilms()}},{key:"componentDidUpdate",value:function(e,t){t.value!==this.state.value&&this.filterFilms(),""===this.state.value&&this.fetchFilms()}},{key:"render",value:function(){var e=this.state.films;return r.a.createElement("div",{className:x.a.container},r.a.createElement("h1",{className:x.a.title}," Star Wars"),r.a.createElement(D,{upDateValue:this.upDateValue}),0===e.length&&r.a.createElement(g,null),e.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:x.a.sortBtn,onClick:this.sortFilm},"Sort"),r.a.createElement("ul",{className:x.a.filmsList},e.map((function(e,t){return r.a.createElement("li",{key:t,className:x.a.filmItem},r.a.createElement(i.b,{to:"films/".concat(t)},r.a.createElement("p",null,e.title)))})))))}}]),t}(n.Component),k=a(12),w=a.n(k),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={film:null,characters:[]},a.fetchFilmDetail=function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(E+t).then((function(e){a.setState({film:e.data},(function(){a.fetchExtraParam(a.state.film.characters)}))})).catch((function(e){return e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchExtraParam=function(e){var t=e.map((function(e){return F.a.get(e)}));Promise.all(t).then((function(e){return a.setState({characters:e})})).catch((function(e){return e}))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.id;this.fetchFilmDetail(e)}},{key:"render",value:function(){var e=this.state,t=e.film,a=e.characters;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(g,null),t&&r.a.createElement("div",null,r.a.createElement("h2",{className:w.a.filmTitle},t.title," "),r.a.createElement("div",{className:w.a.mainDetail},r.a.createElement("div",null,"Episode:",r.a.createElement("span",{className:w.a.filmDetail}," ",t.episode_id)),r.a.createElement("div",null,"Date of release:",r.a.createElement("span",{className:w.a.filmDetail},t.release_date," ")," "),r.a.createElement("div",null,"Director: ",r.a.createElement("span",{className:w.a.filmDetail}," ",t.director)),r.a.createElement("div",null,"Producer:",r.a.createElement("span",{className:w.a.filmDetail},t.producer," ")," "),r.a.createElement("div",null,"Characters:",a.map((function(e){return r.a.createElement("span",{key:e.data.name,className:w.a.extraDetails},e.data.name,",")}))))))}}]),t}(n.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:C}),r.a.createElement(h.b,{path:"/films/:id",component:S}),r.a.createElement(h.a,{push:!0,to:"/"})))}}]),t}(n.Component),I=(a(66),document.getElementById("root"));c.a.render(r.a.createElement(i.a,null,r.a.createElement(P,null)),I)}},[[38,1,2]]]);
//# sourceMappingURL=main.bbabd8c9.chunk.js.map