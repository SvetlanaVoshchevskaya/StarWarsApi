{"version":3,"sources":["components/FilmCard/FilmCard.module.css","components/HomePage/HomePage.module.css","components/Loader/Loader.module.css","components/Search/Search.module.css","components/services/url.js","components/Search/Search.js","components/Loader/Loader.js","components/HomePage/HomePage.js","components/FilmCard/FilmCard.js","App.js","index.js"],"names":["module","exports","url","Search","state","value","handleChange","e","setState","target","props","upDateValue","this","id","placeholder","className","s","search","type","onChange","Component","Loader","loaderContainer","loader","Home","films","fetchFilms","a","axios","get","then","data","results","catch","error","date","sortFilm","sort","b","title","filterFilms","filter","film","includes","prevProps","prevState","container","length","sortBtn","onClick","filmsList","map","idx","key","filmItem","to","FilmCard","characters","fetchFilmDetail","fetchExtraParam","arr","request","el","Promise","all","match","params","filmTitle","mainDetail","filmDetail","episode_id","release_date","director","producer","character","name","extraDetails","App","path","exact","component","HomePage","push","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.bbabd8c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"filmTitle\":\"FilmCard_filmTitle__1EdDE\",\"filmDetail\":\"FilmCard_filmDetail__2jzNe\",\"mainDetail\":\"FilmCard_mainDetail__2oImD\",\"extraDetails\":\"FilmCard_extraDetails__3r80p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__2s-27\",\"title\":\"HomePage_title__1qOUd\",\"filmsList\":\"HomePage_filmsList__10JcY\",\"sortBtn\":\"HomePage_sortBtn__2oFpJ\",\"filmItem\":\"HomePage_filmItem__uXDXE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__1qZRI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__3nGdH\"};","const url = 'https://swapi.co/api/films/';\r\n\r\nexport default url;\r\n","import React, { Component } from 'react';\r\nimport s from \"./Search.module.css\";\r\n\r\nclass Search extends Component {\r\n  state = { value: \"\" };\r\n\r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value }, () => {\r\n      this.props.upDateValue(this.state.value);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <input\r\n        id=\"search\"\r\n        placeholder=\"search film name..\"\r\n        className={s.search}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={this.handleChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Loader = () => (\r\n  <div className={s.loaderContainer}>\r\n    <p className={s.loader}>LOADING ...</p>\r\n  </div>\r\n);\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport url from '../services/url';\r\nimport { Link } from 'react-router-dom';\r\nimport Search from '../Search/Search';\r\nimport Loader from '../Loader/Loader';\r\nimport axios from 'axios';\r\nimport s from './HomePage.module.css';\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    films: [],\r\n    value: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchFilms();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.value !== this.state.value) {\r\n      this.filterFilms();\r\n    }\r\n    if (this.state.value === '') {\r\n      this.fetchFilms();\r\n    }\r\n  }\r\n\r\n  fetchFilms = async () => {\r\n    await axios\r\n      .get(url)\r\n      .then((data) => {\r\n        this.setState({ films: data.data.results });\r\n      })\r\n      .catch((error) => error);\r\n  };\r\n\r\n  upDateValue = (date) => {\r\n    this.setState({ value: date });\r\n  };\r\n\r\n  sortFilm = () => {\r\n    const { films } = this.state;\r\n    this.setState({\r\n      films: films.sort((a, b) => (a.title > b.title ? 1 : -1))\r\n    });\r\n  };\r\n\r\n  filterFilms = () => {\r\n    const { films, value } = this.state;\r\n    this.setState({\r\n      films: films.filter((film) => film.title.includes(value))\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { films } = this.state;\r\n\r\n    return (\r\n      <div className={s.container}>\r\n        <h1 className={s.title}> Star Wars</h1>\r\n        <Search upDateValue={this.upDateValue} />\r\n        {films.length === 0 && <Loader />}\r\n        {films.length > 0 && (\r\n          <>\r\n            <button className={s.sortBtn} onClick={this.sortFilm}>\r\n              Sort\r\n            </button>\r\n            <ul className={s.filmsList}>\r\n              {films.map((film, idx) => (\r\n                <li key={idx} className={s.filmItem}>\r\n                  <Link to={`films/${idx}`}>\r\n                    <p>{film.title}</p>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport url from '../services/url';\r\nimport Loader from '../Loader/Loader';\r\nimport s from './FilmCard.module.css';\r\n\r\nclass FilmCard extends Component {\r\n  state = { film: null, characters: [] };\r\n\r\n  componentDidMount() {\r\n    const id = +this.props.match.params.id;\r\n    this.fetchFilmDetail(id);\r\n  }\r\n\r\n  fetchFilmDetail = async (id) => {\r\n    await axios\r\n      .get(url + id)\r\n      .then((data) => {\r\n        this.setState({ film: data.data }, () => {\r\n          this.fetchExtraParam(this.state.film.characters);\r\n        });\r\n      })\r\n      .catch((error) => error);\r\n  };\r\n\r\n  fetchExtraParam = (arr) => {\r\n    const request = arr.map((el) => axios.get(el));\r\n    Promise.all(request)\r\n      .then((data) => this.setState({ characters: data }))\r\n      .catch((error) => error);\r\n  };\r\n\r\n  render() {\r\n    const { film, characters } = this.state;\r\n    return (\r\n      <>\r\n        {!film && <Loader />}\r\n        {film && (\r\n          <div>\r\n            <h2 className={s.filmTitle}>{film.title} </h2>\r\n            <div className={s.mainDetail}>\r\n              <div>\r\n                Episode:<span className={s.filmDetail}> {film.episode_id}</span>\r\n              </div>\r\n              <div>\r\n                Date of release:\r\n                <span className={s.filmDetail}>{film.release_date} </span>{' '}\r\n              </div>\r\n              <div>\r\n                Director: <span className={s.filmDetail}> {film.director}</span>\r\n              </div>\r\n              <div>\r\n                Producer:<span className={s.filmDetail}>{film.producer} </span>{' '}\r\n              </div>\r\n              <div>\r\n                Characters:\r\n                {characters.map((character) => (\r\n                  <span key={character.data.name} className={s.extraDetails}>\r\n                    {character.data.name},\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default FilmCard;\r\n","import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport HomePage from './components/HomePage/HomePage';\nimport FilmCard from './components/FilmCard/FilmCard';\n\nclass App extends Component {\n  render() {\n    return (\n      <>\n        <Switch>\n          <Route path=\"/\" exact component={HomePage} />\n          <Route path=\"/films/:id\" component={FilmCard} />\n          <Redirect push to=\"/\" />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport './styles.css';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  rootElement\n);\n"],"sourceRoot":""}